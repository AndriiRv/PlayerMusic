<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8" name="viewport" content="width=570"/>
    <title id="titleOfTab">Music Player</title>
    <link rel="icon" type="image/ico" id="icon" th:href="@{/images/iconPlay.ico}"/>

    <link th:href="@{https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css}"
          rel="stylesheet"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
          crossorigin="anonymous">

    <link th:href="@{css/loader/preload.css}" rel="stylesheet"/>
    <link th:href="@{css/loader/spinner.css}" rel="stylesheet"/>
    <link th:href="@{css/menu.css}" rel="stylesheet"/>
    <link th:href="@{css/style.css}" rel="stylesheet"/>
    <link th:href="@{css/player.css}" rel="stylesheet"/>
    <link th:href="@{css/audio/controllerAudio.css}" rel="stylesheet"/>
    <link th:href="@{css/audio/volume.css}" rel="stylesheet"/>
    <link th:href="@{css/backToTop.css}" rel="stylesheet"/>
    <link th:href="@{css/sign.css}" rel="stylesheet">
    <link th:href="@{css/showHideManager/showHideManager.css}" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.2/jquery.modal.min.css"/>
</head>
<body class="bg-light">

<!-------------------------------------------SIGN IN / UP---------------------------------------------------------------->
<div class="container sign modal" id="container">
    <div class="form-container sign-up-container">
        <div class="form">
            <h1>Create Account</h1>
            <div id="errorSignUp"></div>

            <label>
                <input type="text" name="name" placeholder="Name" required/>
            </label>
            <label>
                <input type="text" name="surname" placeholder="Surname"/>
            </label>
            <label>
                <input type="email" name="email" placeholder="Email"/>
            </label>
            <label>
                <input type="text" name="username" placeholder="Username"/>
            </label>
            <label>
                <input type="password" name="password" placeholder="Password">
            </label>
            <label>
                <input type="password" name="passwordConfirmation" placeholder="Confirm your password">
            </label>

            <button id="submitSignUp">Sign Up</button>
        </div>
    </div>
    <div class="form-container sign-in-container">
        <div class="form">
            <h1>Sign in</h1>
            <div id="errorSignIn"></div>
            <label>
                <input id="loginUsername" type="text" name="username" placeholder="Username"/>
            </label>
            <label>
                <input id="loginPassword" type="password" name="password" placeholder="Password"/>
            </label>
            <button id="submitSignIn">Sign In</button>
        </div>
    </div>
    <div class="overlay-container">
        <div class="overlay">
            <div class="overlay-panel overlay-left">
                <h1>Welcome Back!</h1>
                <p>To keep playback your favourite music tracks, please connect to system</p>
                <button class="ghost" id="signIn">Sign In</button>
            </div>
            <div class="overlay-panel overlay-right">
                <h1>Hello, MusicMan!</h1>
                <p>Enter your personal details and start journey!</p>
                <button class="ghost" id="signUp">Sign Up</button>
            </div>
        </div>
    </div>
</div>

<!-------------------------------------------MENU---------------------------------------------------------------->
<div id="menu">
    <div id="leftFromSearch">
        <a class="nav-link active" style="color: orange; cursor: pointer" onclick="sort('/sort/title=ASC');">Home</a>
        <div class="dropdown nav-link active" th:if="${name}!=guest">
            <p id="currentUserName" style="color: orange;" th:if="${name}!=guest" th:text="${name}"></p>
            <div class="dropdown-content">
                <a class="nav-link active" href="/sort/title=ASC">Home</a>
                <a class="nav-link active" th:if="${name}!=guest" href="/edit">Edit</a>
                <a class="nav-link active" href="/logout">Log out</a>
            </div>
        </div>
        <a class="nav-link active" th:if="${name}!=guest" href="/friendship">Friends</a>
    </div>
    <div id="searchTrack">
        <input type="search" name="trackTitle" class="form-control" placeholder="" id="inputSearchTrack" maxlength="60"
               value="">
    </div>
    <div id="rightFromSearch">
        <button id="signButton" th:if="${name}==guest" rel="modal:open" href="#container">Sign in</button>
        <a class="nav-link active" th:if="${name}!=guest" href="/chat">Messages</a>
        <a class="nav-link active" th:if="${name}!=guest" href="/playlists">Playlists</a>
    </div>
</div>

<!-------------------------------------------LEFT MAIN DIV---------------------------------------------------------------->
<div id="leftMainDiv" th:if="${name}!=guest">
    <div id="showHideHistoryTrack"></div>
    <div id="showHideFavouriteTrack"></div>
</div>

<!-------------------------------------------HISTORY---------------------------------------------------------------->
<div id="historyTable" style="cursor: move;" class="border border-warning" th:if="${name}!=guest">
    <div class="controllerAssistDiv">
        <div class="exitFromDiv"></div>
    </div>
    <div id="historyTitle"></div>
</div>

<!-------------------------------------------FAVOURITE---------------------------------------------------------------->
<div id="favouriteTable" style="cursor: move;" class="border border-warning" th:if="${name}!=guest">
    <div class="controllerAssistDiv">
        <div class="exitFromDiv"></div>
    </div>
    <div id="favouriteTitle"></div>
</div>

<!-------------------------------------------RIGHT MAIN DIV---------------------------------------------------------------->
<div id="rightMainDiv" th:if="${name}!=guest">
    <div id="showHidePlaylists"></div>
</div>

<div id="playlistTable" style="cursor: move;" class="border border-warning" th:if="${name}!=guest">
    <div class="controllerAssistDiv">
        <div class="exitFromDiv"></div>
    </div>
    <div id="playlistTitle"></div>
    <div id="listOfTrackInPlaylist"></div>
</div>

<!-------------------------------------------CANVAS---------------------------------------------------------------->
<canvas id="canvas"></canvas>

<!-------------------------------------------ACCEPT COOKIE---------------------------------------------------------------->
<div id="acceptCookieDiv">
    We use cookies to enhance your experience on our site. By accepting our cookie policy you agreeing to our use of
    cookies.
    <div id="buttonsAcceptCookie">
        <button id="acceptCookieButton">Accept</button>
        <button id="declineCookieButton">Decline</button>
    </div>
</div>

<div id="notification"></div>

<!-------------------------------------------PRELOADER---------------------------------------------------------------->
<div id="preloader">
    <div class="mainPreloader">
        <span class="animation"></span>
        <br>Please wait<br>
        <small>Music Player is loading...</small>
    </div>
</div>

<!-------------------------------------------MAIN PLAYER---------------------------------------------------------------->
<div id="player">
    <div id="left"></div>
    <div id="main">
        <div id="themeLogo"></div>
        <div id="controller" style="margin-top: 10%;">
            <button class="prevTrackButton nextPrevButtons"></button>
            <button class="playButton"></button>
            <button class="pauseButton"></button>
            <button class="nextTrackButton nextPrevButtons"></button>
        </div>
        <div id="common">
            <button id="loopButton"></button>
            <h3 id="titleOfTrackInPlayer" class="titleOfTrackClass"></h3>

            <button th:if="${name}!=guest" class="addToFavouriteButton" name="trackTitle" value=""></button>

            <div id="time">
                <div id="currentTime"></div>
                <div id="duration"></div>
            </div>
        </div>
    </div>
    <div id="right"></div>
</div>

<pre id="lyric" class="border border-warning"></pre>

<!-------------------------------------------BOTTOM CONTROLLER---------------------------------------------------------------->
<div id="bottomController">
    <div id="picInBottomController">
        <div id="smallPlayer">
            <audio id="audioId" hidden class="audioClass" style="width: 500px" src="" preload="auto"
                   autoplay></audio>
        </div>
        <div id="playController">
            <button id="soundWaveButton"></button>
            <button class="prevTrackButton nextPrevButtons"></button>
            <button class="playButton"></button>
            <button class="pauseButton"></button>
            <button class="nextTrackButton nextPrevButtons"></button>
            <div class="shuffleButton"></div>
            <button class="loopButton"></button>
        </div>
        <div id="playBackTimeline">
            <div class="currentTime"></div>
            <div id="barAllPlayed">
                <div id="barPlay"></div>
            </div>
            <div class="duration"></div>
            <button class="volumeMin"></button>
            <label class="volumeSlider"></label>
            <input class="volumeSlider" type="range" min="0" max="1" step="0.01" value="0.5"/>
            <button class="volumeMax" disabled></button>
        </div>
        <div id="volumeNTitleOfTrack">
            <h6 id="showInfoAboutTrack" class="titleOfTrackInPlayer"></h6>
            <button th:if="${name}!=guest" class="lyricButton"></button>
            <button th:if="${name}!=guest" class="downloadButton"></button>
            <button th:if="${name}!=guest" class="addToFavouriteButton" name="trackTitle" value=""></button>
        </div>
    </div>
</div>

<!-------------------------------------------TABLE OF TRACKS---------------------------------------------------------------->
<div id="listOfTrack">
    <table id="mainTable" class="table table-bordered table-hover">
        <thead>
        <tr>
            <th th:if="${name}!=guest">
                Upload mp3 tracks
                <form method="post" id="uploadForm" enctype="multipart/form-data">
                    <input type="file" id="uploadId" name="musicTrackAsFile" accept="audio/*"/><br/>
                    <button type="submit" id="uploadSendButton">Send</button>
                </form>
            </th>
            <th colspan="2">
                <label for="idSort"></label>
                <select size="1" id="idSort"
                        oninvalid="setCustomValidity('Select the sort')" oninput="setCustomValidity('')"
                        class="custom-select"
                        required
                        onChange="sort(this.value);">
                    <option value="" selected disabled hidden>Choose sort</option>
                    <option value="/sort/date=DESC">Last added</option>
                    <option value="/sort/title=ASC">Alphabetically</option>
                    <option value="/sort/title=DESC">Reverse alphabetically</option>
                    <option value="/sort/size=ASC">Smaller size</option>
                    <option value="/sort/size=DESC">Bigger size</option>
                    <option value="/sort/date=ASC">First added</option>
                    <option value="/sort/length=ASC">Shorter length</option>
                    <option value="/sort/length=DESC">Longer length</option>
                </select>
            </th>
        </tr>
        </thead>
        <tbody id="mainTableTBody"></tbody>
    </table>

    <footer style="text-align: center">
        <p>Music Player, by <a href="https://www.linkedin.com/in/andrii-reva-795200141/">Andrii Reva</a></p>
    </footer>

    <a href="#" id="backToTop">&uarr;</a>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>


<script src="https://rawgit.com/notifyjs/notifyjs/master/dist/notify.js"></script>
<script th:src="@{/js/async/sideDivLogic/favouriteTracks.js}"></script>

<script th:src="@{/js/async/jquery-modal.js}"></script>

<script th:src="@{/js/table/loader/preloader.js}"></script>
<script th:src="@{/js/table/loader/spinner.js}"></script>
<script th:src="@{/js/table/acceptCookie.js}"></script>
<script th:src="@{/js/table/manipulationWithDivs.js}"></script>
<script th:src="@{/js/table/downloadTrack.js}"></script>
<script th:src="@{/js/table/backToTop.js}"></script>
<script th:src="@{/js/table/searchingInSystems.js}"></script>

<script th:src="@{/js/player/audio/volume.js}"></script>
<script th:src="@{/js/player/audio/playAudio.js}"></script>
<script th:src="@{/js/player/audio/controllerAudio.js}"></script>
<script th:src="@{/js/player/common/hotButtonsHandler.js}"></script>

<script th:src="@{/js/visualizer/visualizer.js}"></script>

<script th:src="@{/js/async/modal.js}"></script>
<script th:src="@{/js/async/lyric.js}"></script>
<script th:src="@{/js/async/sideDivLogic/history.js}"></script>
<script th:src="@{/js/async/sideDivLogic/playlist.js}"></script>
<script th:src="@{/js/async/searchPlaceholder.js}"></script>
<script th:src="@{/js/async/draggable.js}"></script>
<script th:src="@{/js/async/uploadTrack.js}"></script>
<script th:src="@{/js/async/manipulationWithListOfTrack.js}"></script>

<script th:src="@{/js/async/sign/registration.js}"></script>
<script th:src="@{/js/async/sign/login.js}"></script>

<script th:src="@{/js/showhidediv/showHideHistory.js}"></script>
<script th:src="@{/js/showhidediv/showHideFavourite.js}"></script>
<script th:src="@{/js/showhidediv/showHidePlaylist.js}"></script>

</body>
</html>
